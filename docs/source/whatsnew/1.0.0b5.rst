.. _whatsnew_100b5:

1.0.0b5 (????)
--------------

This is the fifth 1.0 beta release.


API Changes
~~~~~~~~~~~
* Added :py:mod:`solarforecastarbiter.reports.figures` which contains modules
  for creating Bokeh and Plotly report figures.
* Added :py:mod:`solarforecastarbiter.reports.figures.plotly_figures` to create
  report figures using plotly (:pull:`359`)
* :py:func:`solarforecastarbiter.reports.figures.bokeh_figures.output_svg`
  now takes a :py:class:`selenium.webdriver.remote.webdriver.WebDriver` as an
  optional argument (:pull:`345`)
* Add metrics for deterministic event forecasts
  :py:func:`solarforecastarbiter.metrics.event.probability_of_detection`,
  :py:func:`solarforecastarbiter.metrics.event.false_alarm_ratio`,
  :py:func:`solarforecastarbiter.metrics.event.probability_of_false_detection`,
  :py:func:`solarforecastarbiter.metrics.event.critical_success_index`,
  :py:func:`solarforecastarbiter.metrics.event.event_bias`, and
  :py:func:`solarforecastarbiter.metrics.event.event_accuracy`. (:issue:`347`) (:pull:`348`)
* Add functions to get the time range of values available in the API:
  :py:func:`solarforecastarbiter.io.api.get_observation_time_range`,
  :py:func:`solarforecastarbiter.io.api.get_forecast_time_range`,
  :py:func:`solarforecastarbiter.io.api.get_probabilistic_forecast_constant_value_time_range`.
  (:pull:`369`)
* Start and end are now optional parameters for the
  `solararbiter referencedata update` CLI command (:pull:`369`)
* :py:func:`solarforecastarbiter.vavlidation.tasks.validate_timestamp` has been
  replaced with
  :py:func:`solarforecastarbiter.vavlidation.tasks.validate_defaults` which
  also adds a nighttime flag (:pull:`382`)

Enhancements
~~~~~~~~~~~~
* Report plots are now created using Plotly. Bokeh figure generation moved to
  :py:mod:`solarforecastarbiter.reports.figures.bokeh_figures` for users
  still interested in bokeh figures.(:pull:`359`)
* Report timeseries plots no longer draw lines over missing data points
  (:issue:`351`).
* Double clicking a forecast or observation in the legend of report timeseries
  plots will toggle the display of all other timeseries. (:issue:`253`)
* Clean up any PhantomJS drivers created to render SVGs (:issue:`344`)
  (:pull:`349`)
* Reference data updates can now proceed from the last value in the API
  to avoid any artificial data gaps (:pull:`369`) (:issue:`353`)
* GHI validation now includes checks on if a period is cloud-free and will be
  flagged with CLEARSKY (:issue:`210`) (:pull:`382`)
* All data validation now includes the generation of the NIGHTTIME flag
  (:issue:`293`) (:pull:`382`)

Bug fixes
~~~~~~~~~
* Fix using deprecated 'M' string for a month offset in
  :py:func:`solarforecastarbiter.io.reference_observaions.srml.fetch`
  (:issue:`341`) (:pull:`342`)
* Fix CLI report generation when status not set in report metadata
  (:pull:`345`)


Contributors
~~~~~~~~~~~~

* Will Holmgren (:ghuser:`wholmgren`)
* Leland Boeman (:ghuser:`lboeman`)
* Cliff Hansen (:ghuser:`cwhanse`)
* Tony Lorenzo (:ghuser:`alorenzo175`)
* Justin Sharp (:ghuser:`MrWindAndSolar`)
* Aidan Tuohy
* Adam Wigington (:ghuser:`awig`)
* David Larson (:ghuser:`dplarson`)
