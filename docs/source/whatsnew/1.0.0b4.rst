.. _whatsnew_100b4:

1.0.0b4 (???)
-------------

This is the fourth 1.0 beta release.


API Changes
~~~~~~~~~~~
* :py:mod:`solarforecastarbiter.metrics.prepocessing.apply_validation` now expects a single observation DataFrame with value and quality_flag columns instead of a dict. It also returns the processed Series along with a dict of the number of values removed for each quality flag. (:pull:`291`)
* :py:mod:`solarforecastarbiter.metrics.prepocessing.resample_and_align` now expects the forecast and observation series explicitly. It also returns the resample and aligned values instead of a `datamodel.ProcessedForecastObservation` (:pull:`291`)
* Move functionality of :py:mod:`solarforecastarbiter.reports.main.validate_resample_align` to :py:mod:`solarforecastarbiter.metrics.prepocessing.process_forecast_observations` (:pull:`291`)


Enhancements
~~~~~~~~~~~~
* Automatically verify selected metrics are valid for deterministic forecasts. (:issue:`267`) (:pull:`301`)

Bug fixes
~~~~~~~~~
* Fix handling of empty observation timeseries in metrics preprocessing. (:issue:`295`) (:pull:`296`)
* Fix handling of `interval_label == ending` in the `groupby` categories in
  `metrics.calculator`. (:issue:`234`) (:pull:`297`)

Contributors
~~~~~~~~~~~~

* Will Holmgren (:ghuser:`wholmgren`)
* Leland Boeman (:ghuser:`lboeman`)
* Cliff Hansen (:ghuser:`cwhanse`)
* Tony Lorenzo (:ghuser:`alorenzo175`)
* Justin Sharp (:ghuser:`MrWindAndSolar`)
* Aidan Tuohy
* Adam Wigington (:ghuser:`awig`)
* David Larson (:ghuser:`dplarson`)
